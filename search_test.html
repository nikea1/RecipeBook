<!DOCTYPE html>
<html>

<body>

	<form action="search/results" method="GET">
		<input type="text" name="q" />
		<select id="purchase_filter" name="purchase_filter">
			<option value="all">All</option>
			<option value="free">Free</option>
			<option value="purchase">Purchase</option>
		</select>
		<select id="order_filter" name="order_filter">
			<option value="none">None</option>
			<option value="lowest">Lowest</option>
			<option value="highest">Highest</option>
		</select>
		<input type="hidden" name="start" value="0">
		<input type="submit" value="Search for stuff" />
	</form>

<script type="text/javascript">
	var orderFilter = document.getElementById('order_filter');
	var purchaseFilter = document.getElementById('purchase_filter');

	function toggleOrderFilterDisplay(display) {
		if(display == 'all' || display == 'purchase') {
			orderFilter.style.display = 'inline-block';
		} else {
			orderFilter.style.display = "none";
		}
	}
	toggleOrderFilterDisplay(purchaseFilter.value);

	purchaseFilter.addEventListener('click', function(event) {
		console.log('clicked', event.target.value);
		toggleOrderFilterDisplay(event.target.value);
	});
	
	
</script>

</body>

</html>